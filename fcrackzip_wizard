#!/bin/bash

clear

cowsay -f tux "Welcome to fcrackzip wizard."

des="fcrackzip wizard is a simple bash script designed to make using the fcrackzip tool easier."
delay=0.05

for ((i=0; i<${#des}; i++)); do
    echo -n "${des:$i:1}"
    sleep $delay
done

echo -e "\n"

while true; do
    read -p "[$] Enter the zip file name: " zip
    if [[ -z ${zip} ]]; then
        echo "[×] Error: the zip file cannot be empty."
    elif [[ -d ${zip} ]]; then
        echo "[×] Error: '${file_zip}' is a directory not a file."
    elif [[ -f ${zip} && ${zip##*.} != "zip" ]]; then
        echo "[×] Error: '${zip}' file is not a zip file."
    elif [[ ! -f ${file_zip} ]]; then
        echo "[×] Error: '${zip}' file not found."
    else
        while true; do
            read -p "[$] Enter the wordlist file name: " wordlist 
            if [[ -z ${wordlist} ]]; then
                echo "[×] Error: the wordlist file cannot be empty."
            elif [[ -d ${wordlist} ]]; then
                echo "[×] Error: '${wordlist}' is a directory not a file."
            elif [[ ! -f ${file_wordlist} ]]; then
                echo "[×] Error: '${wordlist}' file not found."
            else
                echo ""
                echo "[*] Running fcrackzip..."
                echo ""
                fcrackzip -u -D -p ${file_wordlist} ${file_zip}
                break
            fi
        done
        break
    fi
done
